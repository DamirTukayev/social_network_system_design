## Проектирование социальной сети для курса по [System Design](https://github.com/Balun-courses/system_design) 

### Формализация требований к информационной системе

- Функциональные требования:
  - Публикация постов из путешествий с фотографиями, небольшим описанием и привязкой к конкретному месту путешествия.
  - Возможность оценки и комментирования постов других путешественников.
  - Возможность подписки на других путешественников.
  - Поиск популярных мест для путешествий и просмотр постов с этих мест в виде ТОПа мест по странам и городам.
  - Возможность общения с другими путешественниками в личных сообщениях.
  - Возможность просматривать ленты других путешественников.


- Нефункциональные требования:
  - Высокая надежность, availability = 99,95%.
  - Масштабируемость для обеспечения линейного роста пользовательской базы до 10,000,000 уникальных пользователей в день.
    - В среднем в месяц каждый пользователь публикует пост, который содержит:
      - до 1000 текстовых символов, до 20 фото.
  - Данные не должны быть потеряны, данные должны храниться всегда.
  - Работа на СНГ.
  - latency на доступ к ленте постов до 1 секунды.

### Оценка количества требуемых дисков для публикации / поиска / хранения постов

- Оценка требуемой памяти для сохранения 1 поста пользователя:
  + Размер текстового сообщения: 1 символ Unicode = 2 байта, поэтому 1000 символов будет занимать примерно 2000 байт.
  + Размер фотографий: 20 фотографии будут занимать примерно 10 МБ (допущение - размер 1 фотографии 250 КБ).
  + ТЕКСТ (0,002 МБ) + ФОТО (10 МБ) = 10.001 МБ, что можно округлить до 10 МБ.

- Оценка нагрузки
  + Расчет RPS <br>
    RPS = dau * requests_number_per_day / 86 400 <br>
    RPS = 10000000 * (1/30) / 86 400 = 3.858 <br>
  + Расчет трафика<br>
    Traffic = rps * entity_size<br>
    Traffic_per_second (THROUGPUT) = 3.858 * 10 МБ = 38,6 МБ/с<br>
    Traffic_per_day = 38,6 * 86400 = 3335 GB/day<br>

- Оценка ресурсов
  + Расчет количества дисков<br>
    СAPACITY_PER_YEAR = 365 * 4968 GB = 1217 TB<br>
    DISK_NUMBER_FOR_CAPACITY = СAPACITY_PER_YEAR / DISK_CAPACITY<br>
    DISK_NUMBER_FOR_CAPACITY = 1217 ТБ / 100 ТБ = 12,17 SSD<br>